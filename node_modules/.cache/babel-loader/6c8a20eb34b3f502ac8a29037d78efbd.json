{"ast":null,"code":"import _toConsumableArray from\"/Users/jennifermorris/development/OMDB-Challenge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/Users/jennifermorris/development/OMDB-Challenge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/jennifermorris/development/OMDB-Challenge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/jennifermorris/development/OMDB-Challenge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import\"bootstrap/dist/css/bootstrap.min.css\";import'./App.css';import MovieList from'./components/MovieList';import MovieListHeading from'./components/MovieListHeading';import SearchBox from'./components/SearchBox';import AddNominate from'./components/AddNominate';import RemoveNominate from'./components/RemoveNominate';// import ReactNotification from 'react-notifications-component';\n// import { store } from 'react-notifications-component';\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),movies=_useState2[0],setMovies=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),nominate=_useState4[0],setNominate=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),searchValue=_useState6[0],setSearchValue=_useState6[1];var getMovieRequest=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(searchValue){var url,response,responseJson;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=\"http://www.omdbapi.com/?s=\".concat(searchValue,\"&apikey=cb666699\");_context.next=3;return fetch(url);case 3:response=_context.sent;_context.next=6;return response.json();case 6:responseJson=_context.sent;// search movies\nif(responseJson.Search){setMovies(responseJson.Search);}case 8:case\"end\":return _context.stop();}}},_callee);}));return function getMovieRequest(_x){return _ref.apply(this,arguments);};}();useEffect(function(){getMovieRequest(searchValue);},[searchValue]);useEffect(function(){var movieNominate=JSON.parse(localStorage.getItem('react-movie-app-nominate'));//if movie nominates\nif(movieNominate){setNominate(movieNominate);}},[]);var saveToLocalStorage=function saveToLocalStorage(items){localStorage.setItem('react-movie-app-nominate',JSON.stringify(items));};var addNominateMovie=function addNominateMovie(movie){var newNominateList=[].concat(_toConsumableArray(nominate),[movie]);setNominate(newNominateList);saveToLocalStorage(newNominateList);};// useEffect(() => {\n//   if (setNominate.length === 5) {\n//     store.addNotification({\n//       message: \"You've nominated five films\",\n//       type: \"default\",\n//       insert: \"top\",\n//       container: \"top-center\",\n//       animationIn: [\"animated\", \"fadeIn\"],\n//       animationOut: [\"animated\", \"fadeOut\"],\n//       dismiss: {\n//         duration: 3000,\n//         onScreen: true\n//       }\n//     })\n//   }\n// }, [setNominate])\nvar removeNominateMovie=function removeNominateMovie(movie){var newNominateList=nominate.filter(function(nominate){return nominate.imdbID!==movie.imdbID;});setNominate(newNominateList);saveToLocalStorage(newNominateList);};return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid movie-app\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row d-flex align-items-center mt-4 mb-4\",children:[/*#__PURE__*/_jsx(MovieListHeading,{heading:\"OMDB NOMINATE\"}),/*#__PURE__*/_jsx(SearchBox,{searchValue:searchValue,setSearchValue:setSearchValue})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(MovieList,{movies:movies,handleNominateClick:addNominateMovie,nominateComponent:AddNominate})}),/*#__PURE__*/_jsx(\"div\",{className:\"row d-flex align-items-center mt-4 mb-4\",children:/*#__PURE__*/_jsx(MovieListHeading,{heading:\"NOMINATED MOVIES\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(MovieList,{movies:nominate,handleNominateClick:removeNominateMovie,nominateComponent:RemoveNominate})})]});};export default App;","map":{"version":3,"sources":["/Users/jennifermorris/development/OMDB-Challenge/src/App.js"],"names":["React","useState","useEffect","MovieList","MovieListHeading","SearchBox","AddNominate","RemoveNominate","App","movies","setMovies","nominate","setNominate","searchValue","setSearchValue","getMovieRequest","url","fetch","response","json","responseJson","Search","movieNominate","JSON","parse","localStorage","getItem","saveToLocalStorage","items","setItem","stringify","addNominateMovie","movie","newNominateList","removeNominateMovie","filter","imdbID"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport './App.css';\nimport MovieList from './components/MovieList';\nimport MovieListHeading from './components/MovieListHeading';\nimport SearchBox from './components/SearchBox';\nimport AddNominate from './components/AddNominate';\nimport RemoveNominate from './components/RemoveNominate';\n// import ReactNotification from 'react-notifications-component';\n// import { store } from 'react-notifications-component';\n\nconst App = () => {\n  const [movies, setMovies] = useState([]);\n  const [nominate, setNominate] = useState([]);\n  const [searchValue, setSearchValue] = useState('');\n\n  const getMovieRequest = async (searchValue) => {\n    const url = `http://www.omdbapi.com/?s=${searchValue}&apikey=cb666699`\n    const response = await fetch(url);\n    const responseJson = await response.json();\n// search movies\n    if (responseJson.Search) {\n      setMovies(responseJson.Search);\n    }\n  };\n\n  useEffect(() => {\n    getMovieRequest(searchValue);\n  }, [searchValue]);\n\n  useEffect(() => {\n    const movieNominate = JSON.parse(\n            localStorage.getItem('react-movie-app-nominate')\n    );\n//if movie nominates\n    if(movieNominate) {\n          setNominate(movieNominate);\n    }\n  }, []);\n\n    \n\n  const saveToLocalStorage = (items) => {\n    localStorage.setItem('react-movie-app-nominate', JSON.stringify(items));\n  };\n\n  const addNominateMovie = (movie) => {\n      const newNominateList = [...nominate, movie]\n      setNominate(newNominateList);\n      saveToLocalStorage(newNominateList);\n\n  };\n\n  // useEffect(() => {\n  //   if (setNominate.length === 5) {\n  //     store.addNotification({\n  //       message: \"You've nominated five films\",\n  //       type: \"default\",\n  //       insert: \"top\",\n  //       container: \"top-center\",\n  //       animationIn: [\"animated\", \"fadeIn\"],\n  //       animationOut: [\"animated\", \"fadeOut\"],\n  //       dismiss: {\n  //         duration: 3000,\n  //         onScreen: true\n  //       }\n  //     })\n  //   }\n  // }, [setNominate])\n\n\n\n  const removeNominateMovie = (movie) => {\n    const newNominateList = nominate.filter(\n      (nominate) => nominate.imdbID !== movie.imdbID\n    );\n\n    setNominate(newNominateList);\n    saveToLocalStorage(newNominateList);\n  };\n\n  return (\n    <div className='container-fluid movie-app' >\n      <div className='row d-flex align-items-center mt-4 mb-4'>\n        <MovieListHeading heading=\"OMDB NOMINATE\" />\n        <SearchBox searchValue={searchValue} setSearchValue={setSearchValue}/>\n      </div>\n      <div className='row'>\n        <MovieList \n        movies={movies} \n        handleNominateClick={addNominateMovie} \n        nominateComponent={AddNominate}\n        />\n      </div>\n      <div className='row d-flex align-items-center mt-4 mb-4'>\n        <MovieListHeading heading=\"NOMINATED MOVIES\" />\n      </div>\n      <div className='row'>\n        <MovieList \n        movies={nominate} \n        handleNominateClick={removeNominateMovie} \n        nominateComponent={RemoveNominate}\n        />\n      </div>\n    </div>\n    );\n};\n\n\n\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}